var h=Object.defineProperty;var g=(s,t,a)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var p=(s,t,a)=>(g(s,typeof t!="symbol"?t+"":t,a),a);import{j as e}from"./RequirementCard-CpM0iYLI.js";import{r as x}from"./index-B80Lgev0.js";import{u as f}from"./useTranslation-eU9E4S-_.js";import{m as o}from"./proxy-Dd0brM4l.js";import{A as b,F as j}from"./ArrayJoin-BCnGeNfK.js";import{B as y}from"./Results-DFOKnyj8.js";const N=({name:s,summary:t,image:a,collaborator:d,info_date:c})=>{const r=c?new Date(c).toLocaleDateString("es-PE",{day:"numeric",month:"short",year:"numeric"}):"";return e.jsxs("div",{className:" rounded-lg overflow-hidden flex flex-col h-full text-paragraph",children:[e.jsx("img",{src:a?`/api/infoproducts/media/${a}`:"/assets/img/placeholder.png",alt:s,className:"w-full aspect-[4/3] object-cover object-center rounded-lg"}),e.jsxs("div",{className:"flex-1 flex flex-col p-6",children:[e.jsx("h2",{className:"text-2xl font-medium text-neutral mb-2 leading-tight",children:s}),e.jsx("p",{className:"text-neutral text-base mb-4 flex-1",children:t}),e.jsxs("div",{className:"flex justify-between items-end text-sm mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-accent font-semibold",children:"Colaborador"}),e.jsx("span",{className:"block text-neutral",children:d})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"block text-accent font-semibold",children:"Fecha"}),e.jsx("span",{className:"block text-neutral",children:r})]})]}),e.jsx("button",{className:"mt-6 w-full bg-constrast text-white font-semibold py-3 rounded-xl transition-colors",children:"Más información"})]})]})};class v extends y{constructor(){super(...arguments);p(this,"path","infoproducts")}}const I=({categories:s,filter:t,setFilter:a,landing:d})=>{const c={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},r={hover:{scale:1.05,boxShadow:"0 5px 15px rgba(0,0,0,0.1)",transition:{duration:.3,ease:"easeOut"}},tap:{scale:.98}},m={focus:{boxShadow:"0 0 0 2px #3b82f6",transition:{duration:.2}}},{t:l}=f();return e.jsx(o.section,{className:"py-8 xl:py-12 px-[5%]",initial:"hidden",animate:"visible",variants:c,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(o.div,{className:"flex flex-wrap  gap-3 justify-start  ",variants:c,children:e.jsxs("div",{className:"flex ",children:[e.jsx(o.button,{className:`px-4 py-2.5 text-neutral  border-b-2 ${t.category===null?"  border-accent":""}`,onClick:()=>a(n=>({...n,category:null})),variants:r,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:1*.05},children:"Todos"}),s.map((n,i)=>e.jsx(o.button,{className:`px-4 py-2.5 text-neutral  border-b-2 ${n.id==t.category?"  border-accent":""}`,onClick:()=>a(u=>({...u,category:n.id==t.category?null:n.id})),variants:r,initial:{scale:.9},animate:{scale:1},transition:{type:"spring",delay:i*.05},children:n.name},i))]})}),e.jsxs(o.label,{htmlFor:"txt-search",className:"col-span-1 px-6 h-max py-4 flex items-center rounded-3xl bg-[#F5F2F9] min-w-[350px] sm:min-w-[500px] max-w-2xl ",variants:m,whileHover:{y:-3},whileFocus:"focus",children:[e.jsx(o.i,{className:"fas fa-search text-negro mr-2",whileHover:{scale:1.1}}),e.jsx(o.input,{id:"txt-search",type:"text",placeholder:l("public.post.search","	Buscar publicación"),className:"w-full bg-transparent border-none outline-none text-slate-800",onChange:n=>a(i=>({...i,search:n.target.value})),whileFocus:{outline:"none",x:3}})]})]})})},w=new v,B=({filter:s})=>{const[t,a]=x.useState([]),[d,c]=x.useState(1),[r,m]=x.useState(1);return x.useEffect(()=>{const l=[["name","contains",s.search],["summary","contains",s.search]];s.category&&l.push(["category_id","=",s.category]),w.paginate({filter:b(l,"and"),requireTotalCount:!0,skip:6*(r-1),sort:[{selector:"created_at",desc:s.sortOrder=="desc"}],take:6}).then(({status:n,data:i,totalCount:u})=>{n==200&&(c(Math.ceil(u/12)),a(i))})},[s,r]),e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"px-[5%] pt-0 min-h-[300px] grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.length>0?t.map((l,n)=>e.jsx(N,{...l},l.id||n)):e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16",children:[e.jsx("img",{src:"/assets/img/empty-box.svg",alt:"Sin resultados",className:"w-32 h-32 mb-4 animate-bounce"}),e.jsx("p",{className:"text-slate-400 text-lg",children:"No se encontraron resultados"})]})}),e.jsx("div",{className:"p-[5%]",children:e.jsx(j,{pages:d,current:r,setCurrent:m})})]})};export{I as F,B as R};
